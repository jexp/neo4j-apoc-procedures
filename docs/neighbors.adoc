== Node Neighbors

You can find the distinct connected nodes "n" levels or away quickly with these following procedures.

You can use '>' or '<' for all outgoing or incoming relationships, or specify the types you are interested in.

[cols="1m,5"]
|===
| apoc.neighbors(node, rel-direction-pattern, distance) | returns distinct nodes of the given relationships in the pattern up to a certain distance
| apoc.neighbors.count(node, rel-direction-pattern, distance) | returns the count of distinct nodes of the given relationships in the pattern up to a certain distance
| apoc.neighbors.byhop(node, rel-direction-pattern, distance) | returns distinct nodes of the given relationships in the pattern grouped by distance
| apoc.neighbors.count.byhop(node, rel-direction-pattern, distance) | returns distinct nodes of the given relationships in the pattern grouped by distance
|===


[NOTE]
====

For graphs containing more than 2,147,483,647 nodes, use the _.large_ procedures:

====

[cols="1m,5"]
|===
| apoc.neighbors.large(node, rel-direction-pattern, distance) | returns distinct nodes of the given relationships in the pattern up to a certain distance
| apoc.neighbors.large.count(node, rel-direction-pattern, distance) | returns the count of distinct nodes of the given relationships in the pattern up to a certain distance
| apoc.neighbors.large.byhop(node, rel-direction-pattern, distance) | returns distinct nodes of the given relationships in the pattern grouped by distance
| apoc.neighbors.large.count.byhop(node, rel-direction-pattern, distance) | returns distinct nodes of the given relationships in the pattern grouped by distance
|===



=== Example

.Graph Setup
[source,cypher]
----
CREATE (a:First), (b:Neighbor), (c:Neighbor), (d:Neighbor),
(a)-[:KNOWS]->(b), (b)-[:KNOWS]->(a),
(b)-[:KNOWS]->(c), (c)-[:KNOWS]->(d)
----

[source,cypher]
----
MATCH (n:First) WITH n
CALL apoc.neighbors(n,'KNOWS>', 3) YIELD node AS neighbor
RETURN neighbor
----

[source,cypher]
----
MATCH (n:First) WITH n
CALL apoc.neighbors.count(n,'KNOWS>', 3) YIELD value AS number
RETURN number
----

[source,cypher]
----
MATCH (n:First) WITH n
CALL apoc.neighbors.byhop(n,'KNOWS>', 3) YIELD nodes AS neighbors
RETURN neighbors
----

[source,cypher]
----
MATCH (n:First) WITH n
CALL apoc.neighbors.count.byhop(n,'KNOWS>', 3) YIELD value AS numbers
RETURN numbers
----